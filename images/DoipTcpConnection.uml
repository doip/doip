@startuml
skinparam dpi 300
skinparam linetype ortho
interface DoipTcpStreamBufferListener
interface TcpReceiverListener
'class DoipTcpConnection
'class DoipTcpStreamBuffer
'class StreamBuffer
'class TcpReceiver
'class TcpReceiverThread

'We make hidden connection between the Listeners to get them together in the middle'
DoipTcpStreamBufferListener <-[hidden]r-> TcpReceiverListener

DoipTcpStreamBufferListener <|-down- DoipTcpConnection
TcpReceiverListener <|-down- DoipTcpConnection


DoipTcpStreamBuffer -right-> "*" DoipTcpStreamBufferListener
TcpReceiver -left-> "*" TcpReceiverListener

TcpReceiver <|-- TcpReceiverThread

DoipTcpConnection -right-> "1" TcpReceiverThread
DoipTcpConnection -left-> "1" DoipTcpStreamBuffer

DoipTcpConnection -right-> "*" DoipTcpConnectionListener

@enduml
